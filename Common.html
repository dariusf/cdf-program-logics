<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>Common.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-centered alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> CDF <span class="kn">Require Import</span> Tactics.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> FunctionalExtensionality PropExtensionality.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk0"><span class="kn">From</span> Coq <span class="kn">Require Import</span> ZArith Lia Bool List String Program.Equality.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file ring_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file zify_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file micromega_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file btauto_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> Z_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> string_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ident</span> := string.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Store</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">store</span> (<span class="nv">A</span>:<span class="kt">Type</span>) : <span class="kt">Type</span> := <span class="kn">ident</span> -&gt; option A.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">sempty</span> {<span class="nv">A</span>:<span class="kt">Type</span>} : store A := (<span class="kr">fun</span> <span class="nv">_</span> =&gt; None).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">supdate</span> {<span class="nv">A</span>:<span class="kt">Type</span>} (<span class="nv">x</span>: ident) (<span class="nv">v</span>: A) (<span class="nv">s</span>: store A) : store A :=
    <span class="kr">fun</span> <span class="nv">y</span> =&gt; <span class="kr">if</span> string_dec x y <span class="kr">then</span> Some v <span class="kr">else</span> s y.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">sremove</span> {<span class="nv">A</span>:<span class="kt">Type</span>} (<span class="nv">x</span>: ident) (<span class="nv">s</span>: store A) : store A :=
    <span class="kr">fun</span> <span class="nv">y</span> =&gt; <span class="kr">if</span> string_dec x y <span class="kr">then</span> None <span class="kr">else</span> s y.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk1"><span class="kn">Lemma</span> <span class="nf">sremove_any</span>: <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">A</span> (<span class="nv">s</span> : store A),
    (sremove l s) l = None.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : ident) (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : store A),
sremove l s l = None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : ident) (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : store A),
sremove l s l = None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk3"><span class="nb">intros</span>; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sremove l s l = None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk4"><span class="nb">unfold</span> sremove.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> string_dec l l <span class="kr">then</span> None <span class="kr">else</span> s l) = None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk5"><span class="nb">destruct</span> (string_dec l l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>l = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">None = None</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>l &lt;&gt; l</span></span></span><br></div><label class="goal-separator" for="Common-v-chk6"><hr></label><div class="goal-conclusion">s l = None</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk7"><span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>l &lt;&gt; l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s l = None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk8"><span class="kn">Lemma</span> <span class="nf">supdate_same</span>: <span class="kr">forall</span> <span class="nv">A</span> (<span class="nv">h</span>:store A) <span class="nv">v</span> <span class="nv">l</span>,
    (supdate l v h) l = Some v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">h</span> : store A) (<span class="nv">v</span> : A) (<span class="nv">l</span> : ident),
supdate l v h l = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">h</span> : store A) (<span class="nv">v</span> : A) (<span class="nv">l</span> : ident),
supdate l v h l = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chka"><span class="nb">intros</span>; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate l v h l = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkb"><span class="nb">unfold</span> supdate.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> string_dec l l <span class="kr">then</span> Some v <span class="kr">else</span> h l) = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> (string_dec l l); <span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkc"><span class="kn">Lemma</span> <span class="nf">supdate_noop</span> : <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">s</span> <span class="nv">x</span> (<span class="nv">v</span>:A), s x = Some v -&gt; supdate x v s = s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : ident -&gt; option A) (<span class="nv">x</span> : ident)
  (<span class="nv">v</span> : A), s x = Some v -&gt; supdate x v s = s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : ident -&gt; option A) (<span class="nv">x</span> : ident)
  (<span class="nv">v</span> : A), s x = Some v -&gt; supdate x v s = s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chke"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s x = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x v s = s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkf"><span class="nb">unfold</span> supdate.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s x = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">y</span> : <span class="kn">ident</span> =&gt;
 <span class="kr">if</span> string_dec x y <span class="kr">then</span> Some v <span class="kr">else</span> s y) = s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk10"><span class="nb">apply</span> functional_extensionality.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s x = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kn">ident</span>,
(<span class="kr">if</span> string_dec x x0 <span class="kr">then</span> Some v <span class="kr">else</span> s x0) = s x0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk11"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s x = Some v</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> string_dec x x0 <span class="kr">then</span> Some v <span class="kr">else</span> s x0) = s x0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk12"><span class="nb">destruct</span> (string_dec x x0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s x = Some v</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>x = x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some v = s x0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk13" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s x = Some v</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x &lt;&gt; x0</span></span></span><br></div><label class="goal-separator" for="Common-v-chk13"><hr></label><div class="goal-conclusion">s x0 = s x0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk14">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s x = Some v</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>x = x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some v = s x0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk15">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s x = Some v</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x &lt;&gt; x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s x0 = s x0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk16"><span class="kn">Lemma</span> <span class="nf">supdate_other</span>: <span class="kr">forall</span> <span class="nv">A</span> (<span class="nv">h</span>:store A) <span class="nv">l</span> <span class="nv">v</span> <span class="nv">l&#39;</span>,
    l &lt;&gt; l&#39; -&gt; (supdate l v h) l&#39; = h l&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">h</span> : store A) (<span class="nv">l</span> : ident) (<span class="nv">v</span> : A)
  (<span class="nv">l&#39;</span> : ident), l &lt;&gt; l&#39; -&gt; supdate l v h l&#39; = h l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk17"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">h</span> : store A) (<span class="nv">l</span> : ident) (<span class="nv">v</span> : A)
  (<span class="nv">l&#39;</span> : ident), l &lt;&gt; l&#39; -&gt; supdate l v h l&#39; = h l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk18"><span class="nb">intros</span>; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l &lt;&gt; l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate l v h l&#39; = h l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk19"><span class="nb">unfold</span> supdate.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l &lt;&gt; l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> string_dec l l&#39; <span class="kr">then</span> Some v <span class="kr">else</span> h l&#39;) = h l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> (string_dec l l&#39;); <span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk1a"><span class="kn">Lemma</span> <span class="nf">supdate_dupe</span> : <span class="kr">forall</span> {<span class="nv">A</span>} (<span class="nv">v</span>:A) <span class="nv">x</span> <span class="nv">s</span>,
    supdate x v (supdate x v s) = supdate x v s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident) (<span class="nv">s</span> : store A),
supdate x v (supdate x v s) = supdate x v s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk1b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident) (<span class="nv">s</span> : store A),
supdate x v (supdate x v s) = supdate x v s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk1c"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x v (supdate x v s) = supdate x v s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk1d"><span class="nb">unfold</span> supdate.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">y</span> : <span class="kn">ident</span> =&gt;
 <span class="kr">if</span> string_dec x y
 <span class="kr">then</span> Some v
 <span class="kr">else</span> <span class="kr">if</span> string_dec x y <span class="kr">then</span> Some v <span class="kr">else</span> s y) =
(<span class="kr">fun</span> <span class="nv">y</span> : <span class="kn">ident</span> =&gt;
 <span class="kr">if</span> string_dec x y <span class="kr">then</span> Some v <span class="kr">else</span> s y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk1e"><span class="nb">apply</span> functional_extensionality.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kn">ident</span>,
(<span class="kr">if</span> string_dec x x0
 <span class="kr">then</span> Some v
 <span class="kr">else</span> <span class="kr">if</span> string_dec x x0 <span class="kr">then</span> Some v <span class="kr">else</span> s x0) =
(<span class="kr">if</span> string_dec x x0 <span class="kr">then</span> Some v <span class="kr">else</span> s x0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk1f"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> string_dec x x0
 <span class="kr">then</span> Some v
 <span class="kr">else</span> <span class="kr">if</span> string_dec x x0 <span class="kr">then</span> Some v <span class="kr">else</span> s x0) =
(<span class="kr">if</span> string_dec x x0 <span class="kr">then</span> Some v <span class="kr">else</span> s x0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> (string_dec x x0); <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* s1 &lt;= s2 *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">substore</span> {<span class="nv">A</span>:<span class="kt">Type</span>} (<span class="nv">s1</span> <span class="nv">s2</span> : store A) :=
    <span class="kr">forall</span> <span class="nv">v</span> <span class="nv">x</span>, s1 x = Some v -&gt; s2 x = Some v.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk20"><span class="kn">Lemma</span> <span class="nf">substore_notin</span> : <span class="kr">forall</span> <span class="nv">A</span> (<span class="nv">s</span>:store A) <span class="nv">v</span> <span class="nv">x</span> <span class="nv">y</span>,
    s x = None -&gt; s y = Some v -&gt; x &lt;&gt; y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : store A) (<span class="nv">v</span> : A) (<span class="nv">x</span> <span class="nv">y</span> : ident),
s x = None -&gt; s y = Some v -&gt; x &lt;&gt; y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk21"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : store A) (<span class="nv">v</span> : A) (<span class="nv">x</span> <span class="nv">y</span> : ident),
s x = None -&gt; s y = Some v -&gt; x &lt;&gt; y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk22"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s x = None</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s y = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x &lt;&gt; y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk23"><span class="nb">unfold</span> substore <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s x = None</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s y = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x &lt;&gt; y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk24"><span class="nb">unfold</span> substore; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s x = None</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s y = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x &lt;&gt; y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk25"><span class="nb">unfold</span> not; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s x = None</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s y = Some v</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>x = y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk26"><span class="kn">Lemma</span> <span class="nf">substore_extension</span> : <span class="kr">forall</span> <span class="nv">A</span> (<span class="nv">s2</span>:store A) <span class="nv">v</span> <span class="nv">x</span>,
    s2 x = None -&gt; substore s2 (supdate x v s2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s2</span> : store A) (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s2 x = None -&gt; substore s2 (supdate x v s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk27"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s2</span> : store A) (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s2 x = None -&gt; substore s2 (supdate x v s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk28"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s2 x = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">substore s2 (supdate x v s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk29"><span class="nb">unfold</span> substore <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s2 x = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">substore s2 (supdate x v s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk2a"><span class="nb">unfold</span> substore; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s2 x = None</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x v s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk2b"><span class="nb">rewrite</span> &lt;- H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s2 x = None</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x v s2 x0 = s2 x0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk2c"><span class="nb">apply</span> supdate_other.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s2 x = None</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x &lt;&gt; x0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> substore_notin <span class="kr">with</span> (s:=s2) (v:=v0); <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk2d"><span class="kn">Lemma</span> <span class="nf">substore_refl</span> : <span class="kr">forall</span> <span class="nv">A</span> (<span class="nv">s1</span>:store A),
    substore s1 s1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s1</span> : store A), substore s1 s1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk2e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s1</span> : store A), substore s1 s1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">unfold</span> substore.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk2f"><span class="kn">Lemma</span> <span class="nf">substore_trans</span> : <span class="kr">forall</span> <span class="nv">A</span> (<span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">s3</span>: store A),
    substore s1 s2 -&gt; substore s2 s3 -&gt; substore s1 s3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">s3</span> : store A),
substore s1 s2 -&gt; substore s2 s3 -&gt; substore s1 s3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk30"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">s3</span> : store A),
substore s1 s2 -&gt; substore s2 s3 -&gt; substore s1 s3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk31"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>substore s2 s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">substore s1 s3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk32"><span class="nb">unfold</span> substore <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>substore s2 s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">substore s1 s3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk33"><span class="nb">unfold</span> substore <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s2 x = Some v -&gt; s3 x = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">substore s1 s3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk34"><span class="nb">unfold</span> substore; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s2 x = Some v -&gt; s3 x = Some v</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s1 x = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s3 x = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk35"><span class="nb">apply</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s2 x = Some v -&gt; s3 x = Some v</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s1 x = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">apply</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk36"><span class="kn">Lemma</span> <span class="nf">substore_extension_trans</span> : <span class="kr">forall</span> <span class="nv">A</span> (<span class="nv">s1</span> <span class="nv">s2</span>: store A) <span class="nv">v</span> <span class="nv">x</span>,
    substore s1 s2 -&gt; s2 x = None -&gt; substore s1 (supdate x v s2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s1</span> <span class="nv">s2</span> : store A) (<span class="nv">v</span> : A)
  (<span class="nv">x</span> : ident),
substore s1 s2 -&gt;
s2 x = None -&gt; substore s1 (supdate x v s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk37"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s1</span> <span class="nv">s2</span> : store A) (<span class="nv">v</span> : A)
  (<span class="nv">x</span> : ident),
substore s1 s2 -&gt;
s2 x = None -&gt; substore s1 (supdate x v s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk38"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">substore s1 (supdate x v s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk39"><span class="nb">assert</span> (substore s2 (supdate x v s2)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">substore s2 (supdate x v s2)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk3a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x = None</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>substore s2 (supdate x v s2)</span></span></span><br></div><label class="goal-separator" for="Common-v-chk3a"><hr></label><div class="goal-conclusion">substore s1 (supdate x v s2)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk3b"><span class="bp">now</span> <span class="nb">apply</span> substore_extension.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x = None</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>substore s2 (supdate x v s2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">substore s1 (supdate x v s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">apply</span> substore_trans <span class="kr">with</span> (s2 := s2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk3c"><span class="kn">Lemma</span> <span class="nf">substore_extension_inv</span> : <span class="kr">forall</span> <span class="nv">A</span> (<span class="nv">s1</span> <span class="nv">s2</span>:store A) <span class="nv">v</span> <span class="nv">x</span>,
    substore (supdate x v s1) s2 -&gt;
    s2 x = Some v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s1</span> <span class="nv">s2</span> : store A) (<span class="nv">v</span> : A)
  (<span class="nv">x</span> : ident),
substore (supdate x v s1) s2 -&gt; s2 x = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk3d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s1</span> <span class="nv">s2</span> : store A) (<span class="nv">v</span> : A)
  (<span class="nv">x</span> : ident),
substore (supdate x v s1) s2 -&gt; s2 x = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk3e"><span class="nb">unfold</span> substore; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v0</span> : A) (<span class="nv">x0</span> : ident),
supdate x v s1 x0 = Some v0 -&gt; s2 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk3f"><span class="nb">apply</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v0</span> : A) (<span class="nv">x0</span> : ident),
supdate x v s1 x0 = Some v0 -&gt; s2 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x v s1 x = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk40"><span class="nb">rewrite</span> supdate_same.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v0</span> : A) (<span class="nv">x0</span> : ident),
supdate x v s1 x0 = Some v0 -&gt; s2 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some v = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk41"><span class="kn">Lemma</span> <span class="nf">substore_mem</span> : <span class="kr">forall</span> <span class="nv">A</span> (<span class="nv">s1</span> <span class="nv">s2</span>:store A) <span class="nv">v</span> <span class="nv">x</span>,
    substore s1 s2 -&gt;
    s1 x = Some v -&gt;
    s2 x = Some v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s1</span> <span class="nv">s2</span> : store A) (<span class="nv">v</span> : A)
  (<span class="nv">x</span> : ident),
substore s1 s2 -&gt; s1 x = Some v -&gt; s2 x = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk42"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s1</span> <span class="nv">s2</span> : store A) (<span class="nv">v</span> : A)
  (<span class="nv">x</span> : ident),
substore s1 s2 -&gt; s1 x = Some v -&gt; s2 x = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk43"><span class="nb">unfold</span> substore; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s1 x = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk44"><span class="nb">apply</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s1 x = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 x = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
This can't be proved, as substore only concerns bindings which are present 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk45"><span class="kn">Lemma</span> <span class="nf">substore_mem_contra</span> : <span class="kr">forall</span> <span class="nv">A</span> (<span class="nv">s1</span> <span class="nv">s2</span>:store A) <span class="nv">x</span>,
    substore s1 s2 -&gt;
    s2 x = None -&gt;
    s1 x = None.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s1</span> <span class="nv">s2</span> : store A) (<span class="nv">x</span> : ident),
substore s1 s2 -&gt; s2 x = None -&gt; s1 x = None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk46"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s1</span> <span class="nv">s2</span> : store A) (<span class="nv">x</span> : ident),
substore s1 s2 -&gt; s2 x = None -&gt; s1 x = None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk47"><span class="nb">unfold</span> substore; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 x = None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Abort</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk48"><span class="kn">Lemma</span> <span class="nf">substore_extension_left</span> : <span class="kr">forall</span> <span class="nv">A</span> (<span class="nv">s1</span> <span class="nv">s2</span>:store A) <span class="nv">v</span> <span class="nv">x</span>,
    substore s1 s2 -&gt;
    s2 x = Some v -&gt;
    substore (supdate x v s1) s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s1</span> <span class="nv">s2</span> : store A) (<span class="nv">v</span> : A)
  (<span class="nv">x</span> : ident),
substore s1 s2 -&gt;
s2 x = Some v -&gt; substore (supdate x v s1) s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk49"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s1</span> <span class="nv">s2</span> : store A) (<span class="nv">v</span> : A)
  (<span class="nv">x</span> : ident),
substore s1 s2 -&gt;
s2 x = Some v -&gt; substore (supdate x v s1) s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk4a"><span class="nb">unfold</span> substore; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x = Some v</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>supdate x v s1 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk4b"><span class="nb">unfold</span> supdate <span class="kr">in</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x = Some v</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(<span class="kr">if</span> string_dec x x0 <span class="kr">then</span> Some v <span class="kr">else</span> s1 x0) =
Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk4c"><span class="nb">destruct</span> (string_dec x x0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x = Some v</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>x = x0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Some v = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk4d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x = Some v</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x &lt;&gt; x0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br></div><label class="goal-separator" for="Common-v-chk4d"><hr></label><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk4e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x = Some v</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>x = x0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Some v = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">    <span class="c">(* if x is in s1, then updating it must have no effect *)</span>
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk4f"><span class="nb">rewrite</span> H1 <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x = Some v0</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>x = x0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Some v = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk50"><span class="nb">rewrite</span> e <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x0 = Some v0</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>x = x0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Some v = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk51">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x = Some v</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x &lt;&gt; x0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">    <span class="c">(* if x is not in s1, then updating it grows s1, but the result is no larger than s2 *)</span>
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk52"><span class="nb">apply</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 x = Some v</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x &lt;&gt; x0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk53"><span class="kn">Lemma</span> <span class="nf">substore_empty</span> : <span class="kr">forall</span> (<span class="nv">A</span>:<span class="kt">Type</span>) <span class="nv">s</span>, @substore A sempty s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : store A), substore sempty s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk54"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : store A), substore sempty s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk55"><span class="nb">unfold</span> substore.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : store A) (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
sempty x = Some v -&gt; s x = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk56"><span class="nb">unfold</span> sempty.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : store A) (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
None = Some v -&gt; s x = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">ok.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
The converse is not true. Consider: (x=1)<span class="inlinecode"><span class="id" title="var">x</span>:=2</span> &lt;= (y=1)<span class="inlinecode"><span class="id" title="var">x</span>:=2</span>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk57"><span class="kn">Lemma</span> <span class="nf">substore_aug</span> : <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">x</span> (<span class="nv">v</span>:A) <span class="nv">s1</span> <span class="nv">s2</span>,
    substore s1 s2 -&gt;
    substore (supdate x v s1) (supdate x v s2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">x</span> : ident) (<span class="nv">v</span> : A)
  (<span class="nv">s1</span> <span class="nv">s2</span> : store A),
substore s1 s2 -&gt;
substore (supdate x v s1) (supdate x v s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk58"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">x</span> : ident) (<span class="nv">v</span> : A)
  (<span class="nv">s1</span> <span class="nv">s2</span> : store A),
substore s1 s2 -&gt;
substore (supdate x v s1) (supdate x v s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk59"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">substore (supdate x v s1) (supdate x v s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk5a"><span class="nb">unfold</span> substore.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">v0</span> : A) (<span class="nv">x0</span> : ident),
supdate x v s1 x0 = Some v0 -&gt;
supdate x v s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk5b"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>supdate x v s1 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x v s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk5c"><span class="nb">destruct</span> (string_dec x x0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>supdate x v s1 x0 = Some v0</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>x = x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x v s2 x0 = Some v0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk5d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>supdate x v s1 x0 = Some v0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x &lt;&gt; x0</span></span></span><br></div><label class="goal-separator" for="Common-v-chk5d"><hr></label><div class="goal-conclusion">supdate x v s2 x0 = Some v0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk5e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>supdate x v s1 x0 = Some v0</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>x = x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x v s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk5f"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>supdate x0 v s1 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x0 v s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk60"><span class="nb">unfold</span> supdate <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(<span class="kr">if</span> string_dec x0 x0 <span class="kr">then</span> Some v <span class="kr">else</span> s1 x0) =
Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x0 v s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk61"><span class="nb">unfold</span> supdate.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(<span class="kr">if</span> string_dec x0 x0 <span class="kr">then</span> Some v <span class="kr">else</span> s1 x0) =
Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> string_dec x0 x0 <span class="kr">then</span> Some v <span class="kr">else</span> s2 x0) = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk62"><span class="nb">destruct</span> (string_dec x0 x0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>x0 = x0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Some v = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some v = Some v0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk63" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x0 &lt;&gt; x0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br></div><label class="goal-separator" for="Common-v-chk63"><hr></label><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk64">inj H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>x0 = x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some v0 = Some v0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk65" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x0 &lt;&gt; x0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br></div><label class="goal-separator" for="Common-v-chk65"><hr></label><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk66">ok.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x0 &lt;&gt; x0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">ok.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk67">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>substore s1 s2</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>supdate x v s1 x0 = Some v0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x &lt;&gt; x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x v s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk68"><span class="nb">unfold</span> substore <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>supdate x v s1 x0 = Some v0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x &lt;&gt; x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x v s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk69"><span class="nb">rewrite</span> supdate_other; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>supdate x v s1 x0 = Some v0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x &lt;&gt; x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk6a"><span class="nb">pose proof</span> (supdate_other A s1 x v x0 n).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>supdate x v s1 x0 = Some v0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x &lt;&gt; x0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>supdate x v s1 x0 = s1 x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk6b"><span class="nb">rewrite</span> H1 <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x &lt;&gt; x0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>supdate x v s1 x0 = s1 x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk6c"><span class="nb">apply</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x &lt;&gt; x0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>supdate x v s1 x0 = s1 x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
A restricted version of the converse is true, however. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk6d"><span class="kn">Lemma</span> <span class="nf">substore_reduce_left</span> : <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">x</span> (<span class="nv">v</span>:A) <span class="nv">s1</span> <span class="nv">s2</span>,
    <span class="c">(* this guarantees removing the update on the left side shrinks it *)</span>
    s1 x = None -&gt;
    substore (supdate x v s1) s2 -&gt;
    substore s1 s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">x</span> : ident) (<span class="nv">v</span> : A)
  (<span class="nv">s1</span> : ident -&gt; option A) (<span class="nv">s2</span> : store A),
s1 x = None -&gt;
substore (supdate x v s1) s2 -&gt; substore s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk6e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">x</span> : ident) (<span class="nv">v</span> : A)
  (<span class="nv">s1</span> : ident -&gt; option A) (<span class="nv">s2</span> : store A),
s1 x = None -&gt;
substore (supdate x v s1) s2 -&gt; substore s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk6f"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 x = None</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>substore (supdate x v s1) s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">substore s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk70"><span class="nb">unfold</span> substore.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 x = None</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>substore (supdate x v s1) s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">v</span> : A) (<span class="nv">x</span> : ident),
s1 x = Some v -&gt; s2 x = Some v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk71"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 x = None</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>substore (supdate x v s1) s2</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk72"><span class="nb">unfold</span> substore <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 x = None</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v0</span> : A) (<span class="nv">x0</span> : ident),
supdate x v s1 x0 = Some v0 -&gt; s2 x0 = Some v0</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk73"><span class="nb">apply</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 x = None</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v0</span> : A) (<span class="nv">x0</span> : ident),
supdate x v s1 x0 = Some v0 -&gt; s2 x0 = Some v0</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x v s1 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk74"><span class="nb">destruct</span> (string_dec x x0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 x = None</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v0</span> : A) (<span class="nv">x0</span> : ident),
supdate x v s1 x0 = Some v0 -&gt; s2 x0 = Some v0</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>x = x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x v s1 x0 = Some v0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk75" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 x = None</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v0</span> : A) (<span class="nv">x0</span> : ident),
supdate x v s1 x0 = Some v0 -&gt; s2 x0 = Some v0</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x &lt;&gt; x0</span></span></span><br></div><label class="goal-separator" for="Common-v-chk75"><hr></label><div class="goal-conclusion">supdate x v s1 x0 = Some v0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk76">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 x = None</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v0</span> : A) (<span class="nv">x0</span> : ident),
supdate x v s1 x0 = Some v0 -&gt; s2 x0 = Some v0</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>x = x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x v s1 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk77"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v0</span> : A) (<span class="nv">x</span> : ident),
supdate x0 v s1 x = Some v0 -&gt; s2 x = Some v0</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 x0 = None</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x0 v s1 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk78">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span> -&gt; option A</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>store A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 x = None</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">v0</span> : A) (<span class="nv">x0</span> : ident),
supdate x v s1 x0 = Some v0 -&gt; s2 x0 = Some v0</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span><span class="kn">ident</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s1 x0 = Some v0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>x &lt;&gt; x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">supdate x v s1 x0 = Some v0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> supdate_other; <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Store</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Well_founded_Nat</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> nat_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Variable</span> <span class="nv">A</span> : <span class="kt">Type</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Variable</span> <span class="nv">f</span> : A -&gt; nat.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ltof</span> (<span class="nv">a</span> <span class="nv">b</span>:A) := f a &lt; f b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">gtof</span> (<span class="nv">a</span> <span class="nv">b</span>:A) := f b &gt; f a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk79"><span class="kn">Theorem</span> <span class="nf">well_founded_ltof</span> : well_founded ltof.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_founded ltof</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk7a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_founded ltof</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk7b"><span class="nb">unfold</span> well_founded.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, Acc ltof a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk7c"><span class="nb">assert</span> (H : <span class="kr">forall</span> <span class="nv">n</span> (<span class="nv">a</span>:A), f a &lt; n -&gt; Acc ltof a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">n</span> : nat) (<span class="nv">a</span> : A), f a &lt; n -&gt; Acc ltof a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk7d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">n</span> : nat) (<span class="nv">a</span> : A), f a &lt; n -&gt; Acc ltof a</span></span></span><br></div><label class="goal-separator" for="Common-v-chk7d"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, Acc ltof a</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk7e">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">n</span> : nat) (<span class="nv">a</span> : A), f a &lt; n -&gt; Acc ltof a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk7f"><span class="nb">intro</span> n; <span class="nb">induction</span> n <span class="kr">as</span> [|n IHn].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, f a &lt; <span class="mi">0</span> -&gt; Acc ltof a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk80" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, f a &lt; n -&gt; Acc ltof a</span></span></span><br></div><label class="goal-separator" for="Common-v-chk80"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, f a &lt; S n -&gt; Acc ltof a</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk81">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, f a &lt; <span class="mi">0</span> -&gt; Acc ltof a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk82"><span class="nb">intros</span> a Ha; <span class="nb">absurd</span> (f a &lt; <span class="mi">0</span>); <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>f a &lt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ f a &lt; <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Nat.nlt_0_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk83">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, f a &lt; n -&gt; Acc ltof a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, f a &lt; S n -&gt; Acc ltof a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk84"><span class="nb">intros</span> a Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, f a &lt; n -&gt; Acc ltof a</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>f a &lt; S n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Acc ltof a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk85"><span class="nb">apply</span> Acc_intro.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, f a &lt; n -&gt; Acc ltof a</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>f a &lt; S n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y</span> : A, ltof y a -&gt; Acc ltof y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk86"><span class="nb">unfold</span> ltof <span class="nb">at</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, f a &lt; n -&gt; Acc ltof a</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>f a &lt; S n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y</span> : A, f y &lt; f a -&gt; Acc ltof y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk87"><span class="nb">intros</span> b Hb.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, f a &lt; n -&gt; Acc ltof a</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>f a &lt; S n</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>f b &lt; f a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Acc ltof b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk88"><span class="nb">apply</span> IHn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, f a &lt; n -&gt; Acc ltof a</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>f a &lt; S n</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>f b &lt; f a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f b &lt; n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk89"><span class="nb">apply</span> Nat.lt_le_trans <span class="kr">with</span> (f a); <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, f a &lt; n -&gt; Acc ltof a</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>f a &lt; S n</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>f b &lt; f a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f a &lt;= n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">apply</span> Nat.succ_le_mono.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk8a">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">n</span> : nat) (<span class="nv">a</span> : A), f a &lt; n -&gt; Acc ltof a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, Acc ltof a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk8b"><span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">n</span> : nat) (<span class="nv">a</span> : A), f a &lt; n -&gt; Acc ltof a</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Acc ltof a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk8c"><span class="nb">apply</span> (H (S (f a))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">n</span> : nat) (<span class="nv">a</span> : A), f a &lt; n -&gt; Acc ltof a</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f a &lt; S (f a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Nat.lt_succ_diag_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Well_founded_Nat</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">nati</span> := n (n:nat) | inf.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Coercion</span> <span class="nf">n</span> : nat &gt;-&gt; nati.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Declare Scope</span> nati_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Delimit Scope</span> nati_scope <span class="kr">with</span> nati.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;‚àû&quot;</span> := inf : nati_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nati_le</span> (<span class="nv">a</span> <span class="nv">b</span>:nati) : <span class="kt">Prop</span> :=
  <span class="kr">match</span> a, b <span class="kr">with</span>
  | n a, n b =&gt; (a&lt;=b)%nat
  | n _, inf =&gt; <span class="kt">True</span>
  | inf, n _ =&gt; <span class="kt">False</span>
  | inf, inf =&gt; <span class="kt">True</span>
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nati_plus</span> (<span class="nv">a</span> <span class="nv">b</span>:nati) : nati :=
  <span class="kr">match</span> a, b <span class="kr">with</span>
  | n a, n b =&gt; n (a+b)%nat
  | n _, inf =&gt; inf
  | inf, n _ =&gt; inf
  | inf, inf =&gt; inf
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;x &gt;= y&quot;</span> := (nati_le y x) : nati_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;x &gt; y&quot;</span> := (nati_le y x /\ y &lt;&gt; x) : nati_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;x &lt;= y&quot;</span> := (nati_le x y) : nati_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;x + y&quot;</span> := (nati_plus x y) : nati_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Bind Scope</span> nati_scope <span class="kr">with</span> nati.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> nat_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk8d"><span class="kn">Lemma</span> <span class="nf">nati_plus_0</span> : <span class="kr">forall</span> <span class="nv">a</span>, (a + <span class="mi">0</span>)%nati = a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : nati, (a + <span class="mi">0</span>)%nati = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk8e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : nati, (a + <span class="mi">0</span>)%nati = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk8f"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a + <span class="mi">0</span>)%nati = a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk90"><span class="nb">destruct</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n0 + <span class="mi">0</span>)%nati = n0</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">(‚àû + <span class="mi">0</span>)%nati = ‚àû%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk91">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n0 + <span class="mi">0</span>)%nati = n0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk92"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n0 + <span class="mi">0</span> = n0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> Nat.add_0_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk93">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">(‚àû + <span class="mi">0</span>)%nati = ‚àû%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk94"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">‚àû%nati = ‚àû%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk95"><span class="kn">Lemma</span> <span class="nf">nati_0_plus</span> : <span class="kr">forall</span> <span class="nv">a</span>, (<span class="mi">0</span> + a)%nati = a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : nati, (<span class="mi">0</span> + a)%nati = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk96"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : nati, (<span class="mi">0</span> + a)%nati = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk97"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">0</span> + a)%nati = a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk98"><span class="nb">destruct</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">0</span> + n0)%nati = n0</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">0</span> + ‚àû)%nati = ‚àû%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk99">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">0</span> + n0)%nati = n0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">simpl</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk9a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">0</span> + ‚àû)%nati = ‚àû%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk9b"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">‚àû%nati = ‚àû%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk9c"><span class="kn">Lemma</span> <span class="nf">nati_le_move</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span>,
  (c &gt; <span class="mi">0</span>)%nat -&gt;
  (a + S b &lt;= n c &lt;-&gt; a + b &lt;= Nat.pred c)%nati.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : nati) (<span class="nv">b</span> <span class="nv">c</span> : nat),
c &gt; <span class="mi">0</span> -&gt;
(a + S b &lt;= c)%nati &lt;-&gt; (a + b &lt;= Nat.pred c)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk9d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : nati) (<span class="nv">b</span> <span class="nv">c</span> : nat),
c &gt; <span class="mi">0</span> -&gt;
(a + S b &lt;= c)%nati &lt;-&gt; (a + b &lt;= Nat.pred c)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk9e"><span class="nb">destruct</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt; (n0 + b &lt;= Nat.pred c)%nati</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(‚àû + S b &lt;= c)%nati &lt;-&gt; (‚àû + b &lt;= Nat.pred c)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk9f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt; (n0 + b &lt;= Nat.pred c)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chka0"><span class="nb">induction</span> n0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(<span class="mi">0</span> + S b &lt;= c)%nati &lt;-&gt; (<span class="mi">0</span> + b &lt;= Nat.pred c)%nati</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chka1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br></div><label class="goal-separator" for="Common-v-chka1"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(S n0 + S b &lt;= c)%nati &lt;-&gt;
(S n0 + b &lt;= Nat.pred c)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chka2">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(<span class="mi">0</span> + S b &lt;= c)%nati &lt;-&gt; (<span class="mi">0</span> + b &lt;= Nat.pred c)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">simpl</span>; <span class="nb">split</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chka3">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(S n0 + S b &lt;= c)%nati &lt;-&gt;
(S n0 + b &lt;= Nat.pred c)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chka4"><span class="nb">split</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(S n0 + S b &lt;= c)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(S n0 + b &lt;= Nat.pred c)%nati</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chka5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(S n0 + b &lt;= Nat.pred c)%nati</span></span></span><br></div><label class="goal-separator" for="Common-v-chka5"><hr></label><div class="goal-conclusion">(S n0 + S b &lt;= c)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chka6">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(S n0 + S b &lt;= c)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(S n0 + b &lt;= Nat.pred c)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chka7"><span class="nb">simpl</span> <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>S (n0 + S b) &lt;= c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(S n0 + b &lt;= Nat.pred c)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chka8"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>S (n0 + S b) &lt;= c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (n0 + b) &lt;= Nat.pred c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chka9"><span class="nb">rewrite</span> plus_n_Sm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>S (n0 + S b) &lt;= c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n0 + S b &lt;= Nat.pred c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkaa"><span class="nb">apply</span> (IHn0 _ c).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>S (n0 + S b) &lt;= c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c &gt; <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chkab" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>S (n0 + S b) &lt;= c</span></span></span><br></div><label class="goal-separator" for="Common-v-chkab"><hr></label><div class="goal-conclusion">(n0 + S (S b) &lt;= c)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkac"><span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>S (n0 + S b) &lt;= c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n0 + S (S b) &lt;= c)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkad"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>S (n0 + S b) &lt;= c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n0 + S (S b) &lt;= c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkae"><span class="nb">rewrite</span> plus_n_Sm <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n0 + S (S b) &lt;= c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n0 + S (S b) &lt;= c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkaf">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(S n0 + b &lt;= Nat.pred c)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(S n0 + S b &lt;= c)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkb0"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(S n0 + b &lt;= Nat.pred c)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (n0 + S b) &lt;= c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkb1"><span class="nb">rewrite</span> plus_n_Sm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(S n0 + b &lt;= Nat.pred c)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n0 + S (S b) &lt;= c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkb2"><span class="nb">apply</span> IHn0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(S n0 + b &lt;= Nat.pred c)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c &gt; <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chkb3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(S n0 + b &lt;= Nat.pred c)%nati</span></span></span><br></div><label class="goal-separator" for="Common-v-chkb3"><hr></label><div class="goal-conclusion">(n0 + S b &lt;= Nat.pred c)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkb4"><span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(S n0 + b &lt;= Nat.pred c)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n0 + S b &lt;= Nat.pred c)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkb5"><span class="nb">simpl</span> <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>S (n0 + b) &lt;= Nat.pred c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n0 + S b &lt;= Nat.pred c)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkb6"><span class="nb">rewrite</span> plus_n_Sm <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(n0 + S b &lt;= c)%nati &lt;-&gt;
(n0 + b &lt;= Nat.pred c)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n0 + S b &lt;= Nat.pred c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n0 + S b &lt;= Nat.pred c)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkb7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(‚àû + S b &lt;= c)%nati &lt;-&gt; (‚àû + b &lt;= Nat.pred c)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkb8"><span class="kn">Lemma</span> <span class="nf">nati_ge_move</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span>,
  (c &gt; <span class="mi">0</span>)%nat -&gt;
  (a + S b &gt;= n c &lt;-&gt; a + b &gt;= Nat.pred c)%nati.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : nati) (<span class="nv">b</span> <span class="nv">c</span> : nat),
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= a + S b)%nati &lt;-&gt; (Nat.pred c &lt;= a + b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkb9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : nati) (<span class="nv">b</span> <span class="nv">c</span> : nat),
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= a + S b)%nati &lt;-&gt; (Nat.pred c &lt;= a + b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkba"><span class="nb">destruct</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt; (Nat.pred c &lt;= n0 + b)%nati</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= ‚àû + S b)%nati &lt;-&gt; (Nat.pred c &lt;= ‚àû + b)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkbb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt; (Nat.pred c &lt;= n0 + b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkbc"><span class="nb">induction</span> n0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= <span class="mi">0</span> + S b)%nati &lt;-&gt; (Nat.pred c &lt;= <span class="mi">0</span> + b)%nati</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chkbd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br></div><label class="goal-separator" for="Common-v-chkbd"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= S n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= S n0 + b)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkbe">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= <span class="mi">0</span> + S b)%nati &lt;-&gt; (Nat.pred c &lt;= <span class="mi">0</span> + b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">simpl</span>; <span class="nb">split</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkbf">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= S n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= S n0 + b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkc0"><span class="nb">split</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(c &lt;= S n0 + S b)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Nat.pred c &lt;= S n0 + b)%nati</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chkc1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(Nat.pred c &lt;= S n0 + b)%nati</span></span></span><br></div><label class="goal-separator" for="Common-v-chkc1"><hr></label><div class="goal-conclusion">(c &lt;= S n0 + S b)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkc2">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(c &lt;= S n0 + S b)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Nat.pred c &lt;= S n0 + b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkc3"><span class="nb">simpl</span> <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &lt;= S (n0 + S b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Nat.pred c &lt;= S n0 + b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkc4"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &lt;= S (n0 + S b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.pred c &lt;= S (n0 + b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkc5"><span class="nb">rewrite</span> plus_n_Sm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &lt;= S (n0 + S b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.pred c &lt;= n0 + S b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkc6"><span class="nb">apply</span> (IHn0 _ c).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &lt;= S (n0 + S b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c &gt; <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chkc7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &lt;= S (n0 + S b)</span></span></span><br></div><label class="goal-separator" for="Common-v-chkc7"><hr></label><div class="goal-conclusion">(c &lt;= n0 + S (S b))%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkc8"><span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &lt;= S (n0 + S b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(c &lt;= n0 + S (S b))%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkc9"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &lt;= S (n0 + S b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c &lt;= n0 + S (S b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkca"><span class="nb">rewrite</span> plus_n_Sm <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &lt;= n0 + S (S b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c &lt;= n0 + S (S b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkcb">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(Nat.pred c &lt;= S n0 + b)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(c &lt;= S n0 + S b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkcc"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(Nat.pred c &lt;= S n0 + b)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c &lt;= S (n0 + S b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkcd"><span class="nb">rewrite</span> plus_n_Sm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(Nat.pred c &lt;= S n0 + b)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c &lt;= n0 + S (S b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkce"><span class="nb">apply</span> IHn0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(Nat.pred c &lt;= S n0 + b)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c &gt; <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chkcf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(Nat.pred c &lt;= S n0 + b)%nati</span></span></span><br></div><label class="goal-separator" for="Common-v-chkcf"><hr></label><div class="goal-conclusion">(Nat.pred c &lt;= n0 + S b)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkd0"><span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(Nat.pred c &lt;= S n0 + b)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Nat.pred c &lt;= n0 + S b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkd1"><span class="nb">simpl</span> <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Nat.pred c &lt;= S (n0 + b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Nat.pred c &lt;= n0 + S b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkd2"><span class="nb">rewrite</span> plus_n_Sm <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= n0 + S b)%nati &lt;-&gt;
(Nat.pred c &lt;= n0 + b)%nati</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Nat.pred c &lt;= n0 + S b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Nat.pred c &lt;= n0 + S b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkd3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt;
(c &lt;= ‚àû + S b)%nati &lt;-&gt; (Nat.pred c &lt;= ‚àû + b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkd4"><span class="kn">Lemma</span> <span class="nf">geq_succ</span> : <span class="kr">forall</span> <span class="nv">m</span> <span class="nv">n</span>, n &gt;= S m -&gt; n &gt; <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> <span class="nv">n</span> : nat, n &gt;= S m -&gt; n &gt; <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkd5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> <span class="nv">n</span> : nat, n &gt;= S m -&gt; n &gt; <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkd6"><span class="kn">Lemma</span> <span class="nf">nati_plus_le</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span>,
  (c &gt;= b)%nat -&gt; (a + n b &lt;= n c &lt;-&gt; a &lt;= c - b)%nati.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : nati) (<span class="nv">b</span> <span class="nv">c</span> : nat),
c &gt;= b -&gt; (a + b &lt;= c)%nati &lt;-&gt; (a &lt;= c - b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkd7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : nati) (<span class="nv">b</span> <span class="nv">c</span> : nat),
c &gt;= b -&gt; (a + b &lt;= c)%nati &lt;-&gt; (a &lt;= c - b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkd8"><span class="nb">induction</span> b; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a + <span class="mi">0</span> &lt;= c)%nati &lt;-&gt; (a &lt;= c - <span class="mi">0</span>)%nati</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chkd9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (a + b &lt;= c)%nati &lt;-&gt; (a &lt;= c - b)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br></div><label class="goal-separator" for="Common-v-chkd9"><hr></label><div class="goal-conclusion">(a + S b &lt;= c)%nati &lt;-&gt; (a &lt;= c - S b)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkda">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a + <span class="mi">0</span> &lt;= c)%nati &lt;-&gt; (a &lt;= c - <span class="mi">0</span>)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkdb"><span class="nb">rewrite</span> nati_plus_0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a &lt;= c)%nati &lt;-&gt; (a &lt;= c - <span class="mi">0</span>)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkdc"><span class="nb">rewrite</span> Nat.sub_0_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a &lt;= c)%nati &lt;-&gt; (a &lt;= c)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkdd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (a + b &lt;= c)%nati &lt;-&gt; (a &lt;= c - b)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a + S b &lt;= c)%nati &lt;-&gt; (a &lt;= c - S b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkde"><span class="nb">pose proof</span> (geq_succ _ _ H).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (a + b &lt;= c)%nati &lt;-&gt; (a &lt;= c - b)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a + S b &lt;= c)%nati &lt;-&gt; (a &lt;= c - S b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkdf"><span class="nb">assert</span> (<span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span>, (c &gt; <span class="mi">0</span>)%nat -&gt; (c - S b = Nat.pred c - b))%nati.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (a + b &lt;= c)%nati &lt;-&gt; (a &lt;= c - b)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat, c &gt; <span class="mi">0</span> -&gt; c - S b = Nat.pred c - b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chke0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (a + b &lt;= c)%nati &lt;-&gt; (a &lt;= c - b)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt; c - S b = Nat.pred c - b</span></span></span><br></div><label class="goal-separator" for="Common-v-chke0"><hr></label><div class="goal-conclusion">(a + S b &lt;= c)%nati &lt;-&gt; (a &lt;= c - S b)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chke1"><span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (a + b &lt;= c)%nati &lt;-&gt; (a &lt;= c - b)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt; c - S b = Nat.pred c - b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a + S b &lt;= c)%nati &lt;-&gt; (a &lt;= c - S b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chke2"><span class="nb">rewrite</span> nati_le_move; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (a + b &lt;= c)%nati &lt;-&gt; (a &lt;= c - b)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt; c - S b = Nat.pred c - b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a + b &lt;= Nat.pred c)%nati &lt;-&gt; (a &lt;= c - S b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chke3"><span class="nb">rewrite</span> H1; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (a + b &lt;= c)%nati &lt;-&gt; (a &lt;= c - b)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt; c - S b = Nat.pred c - b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a + b &lt;= Nat.pred c)%nati &lt;-&gt;
(a &lt;= Nat.pred c - b)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chke4"><span class="nb">apply</span> IHb.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (a + b &lt;= c)%nati &lt;-&gt; (a &lt;= c - b)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt; c - S b = Nat.pred c - b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.pred c &gt;= b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chke5"><span class="kn">Lemma</span> <span class="nf">nati_plus_ge</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span>,
  (c &gt;= b)%nat -&gt; (a + n b &gt;= n c &lt;-&gt; a &gt;= c - b)%nati.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : nati) (<span class="nv">b</span> <span class="nv">c</span> : nat),
c &gt;= b -&gt; (c &lt;= a + b)%nati &lt;-&gt; (c - b &lt;= a)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chke6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : nati) (<span class="nv">b</span> <span class="nv">c</span> : nat),
c &gt;= b -&gt; (c &lt;= a + b)%nati &lt;-&gt; (c - b &lt;= a)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chke7"><span class="nb">induction</span> b; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(c &lt;= a + <span class="mi">0</span>)%nati &lt;-&gt; (c - <span class="mi">0</span> &lt;= a)%nati</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chke8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (c &lt;= a + b)%nati &lt;-&gt; (c - b &lt;= a)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br></div><label class="goal-separator" for="Common-v-chke8"><hr></label><div class="goal-conclusion">(c &lt;= a + S b)%nati &lt;-&gt; (c - S b &lt;= a)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chke9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(c &lt;= a + <span class="mi">0</span>)%nati &lt;-&gt; (c - <span class="mi">0</span> &lt;= a)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkea"><span class="nb">rewrite</span> nati_plus_0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(c &lt;= a)%nati &lt;-&gt; (c - <span class="mi">0</span> &lt;= a)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkeb"><span class="nb">rewrite</span> Nat.sub_0_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(c &lt;= a)%nati &lt;-&gt; (c &lt;= a)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkec">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (c &lt;= a + b)%nati &lt;-&gt; (c - b &lt;= a)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(c &lt;= a + S b)%nati &lt;-&gt; (c - S b &lt;= a)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chked"><span class="nb">pose proof</span> (geq_succ _ _ H).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (c &lt;= a + b)%nati &lt;-&gt; (c - b &lt;= a)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(c &lt;= a + S b)%nati &lt;-&gt; (c - S b &lt;= a)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkee"><span class="nb">assert</span> (<span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span>, (c &gt; <span class="mi">0</span>)%nat -&gt; (c - S b = Nat.pred c - b))%nati.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (c &lt;= a + b)%nati &lt;-&gt; (c - b &lt;= a)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat, c &gt; <span class="mi">0</span> -&gt; c - S b = Nat.pred c - b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chkef" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (c &lt;= a + b)%nati &lt;-&gt; (c - b &lt;= a)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt; c - S b = Nat.pred c - b</span></span></span><br></div><label class="goal-separator" for="Common-v-chkef"><hr></label><div class="goal-conclusion">(c &lt;= a + S b)%nati &lt;-&gt; (c - S b &lt;= a)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkf0"><span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (c &lt;= a + b)%nati &lt;-&gt; (c - b &lt;= a)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt; c - S b = Nat.pred c - b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(c &lt;= a + S b)%nati &lt;-&gt; (c - S b &lt;= a)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkf1"><span class="nb">rewrite</span> nati_ge_move; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (c &lt;= a + b)%nati &lt;-&gt; (c - b &lt;= a)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt; c - S b = Nat.pred c - b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Nat.pred c &lt;= a + b)%nati &lt;-&gt; (c - S b &lt;= a)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkf2"><span class="nb">rewrite</span> H1; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (c &lt;= a + b)%nati &lt;-&gt; (c - b &lt;= a)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt; c - S b = Nat.pred c - b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Nat.pred c &lt;= a + b)%nati &lt;-&gt;
(Nat.pred c - b &lt;= a)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkf3"><span class="nb">apply</span> IHb.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">c</span> : nat, c &gt;= b -&gt; (c &lt;= a + b)%nati &lt;-&gt; (c - b &lt;= a)%nati</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>c &gt;= S b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>c &gt; <span class="mi">0</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> <span class="nv">c</span> : nat,
c &gt; <span class="mi">0</span> -&gt; c - S b = Nat.pred c - b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.pred c &gt;= b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkf4"><span class="kn">Lemma</span> <span class="nf">nati_le_inf</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">n</span>,
  (a + n &lt;= inf &lt;-&gt; a &lt;= inf)%nati.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">n</span> : nati, (a + n &lt;= ‚àû)%nati &lt;-&gt; (a &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkf5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">n</span> : nati, (a + n &lt;= ‚àû)%nati &lt;-&gt; (a &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkf6"><span class="nb">destruct</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n1</span> : nati,
(n0 + n1 &lt;= ‚àû)%nati &lt;-&gt; (n0 &lt;= ‚àû)%nati</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nati, (‚àû + n &lt;= ‚àû)%nati &lt;-&gt; (‚àû &lt;= ‚àû)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkf7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n1</span> : nati,
(n0 + n1 &lt;= ‚àû)%nati &lt;-&gt; (n0 &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkf8"><span class="nb">destruct</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n0</span> : nati,
(n1 + n0 &lt;= ‚àû)%nati &lt;-&gt; (n1 &lt;= ‚àû)%nati</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chkf9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="Common-v-chkf9"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nati, (‚àû + n &lt;= ‚àû)%nati &lt;-&gt; (‚àû &lt;= ‚àû)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkfa">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n0</span> : nati,
(n1 + n0 &lt;= ‚àû)%nati &lt;-&gt; (n1 &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkfb"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n0</span> : nati,
(<span class="kr">match</span> n0 <span class="kr">with</span>
 | n b =&gt; (n1 + b)%nat
 | ‚àû =&gt; ‚àû
 <span class="kr">end</span> &lt;= ‚àû)%nati &lt;-&gt; <span class="kt">True</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkfc"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n2</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">match</span> n2 <span class="kr">with</span>
 | n b =&gt; (n1 + b)%nat
 | ‚àû =&gt; ‚àû
 <span class="kr">end</span> &lt;= ‚àû)%nati -&gt; <span class="kt">True</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chkfd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n2</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><label class="goal-separator" for="Common-v-chkfd"><hr></label><div class="goal-conclusion"><span class="kt">True</span> -&gt;
(<span class="kr">match</span> n2 <span class="kr">with</span>
 | n b =&gt; (n1 + b)%nat
 | ‚àû =&gt; ‚àû
 <span class="kr">end</span> &lt;= ‚àû)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkfe"><span class="bp">easy</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n2</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">True</span> -&gt;
(<span class="kr">match</span> n2 <span class="kr">with</span>
 | n b =&gt; (n1 + b)%nat
 | ‚àû =&gt; ‚àû
 <span class="kr">end</span> &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> n2; <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chkff">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nati, (‚àû + n &lt;= ‚àû)%nati &lt;-&gt; (‚àû &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk100"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(‚àû + n1 &lt;= ‚àû)%nati &lt;-&gt; (‚àû &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk101"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">match</span> n1 <span class="kr">with</span>
 | n _ | _ =&gt; ‚àû
 <span class="kr">end</span> &lt;= ‚àû)%nati &lt;-&gt; <span class="kt">True</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk102"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">match</span> n1 <span class="kr">with</span>
 | n _ | _ =&gt; ‚àû
 <span class="kr">end</span> &lt;= ‚àû)%nati -&gt; <span class="kt">True</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk103" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><label class="goal-separator" for="Common-v-chk103"><hr></label><div class="goal-conclusion"><span class="kt">True</span> -&gt; (<span class="kr">match</span> n1 <span class="kr">with</span>
         | n _ | _ =&gt; ‚àû
         <span class="kr">end</span> &lt;= ‚àû)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk104"><span class="bp">easy</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">True</span> -&gt; (<span class="kr">match</span> n1 <span class="kr">with</span>
         | n _ | _ =&gt; ‚àû
         <span class="kr">end</span> &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> n1; <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk105">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nati, (‚àû + n &lt;= ‚àû)%nati &lt;-&gt; (‚àû &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk106"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nati,
(<span class="kr">match</span> n <span class="kr">with</span>
 | n _ | _ =&gt; ‚àû
 <span class="kr">end</span> &lt;= ‚àû)%nati &lt;-&gt; <span class="kt">True</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk107"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">match</span> n0 <span class="kr">with</span>
 | n _ | _ =&gt; ‚àû
 <span class="kr">end</span> &lt;= ‚àû)%nati -&gt; <span class="kt">True</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk108" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><label class="goal-separator" for="Common-v-chk108"><hr></label><div class="goal-conclusion"><span class="kt">True</span> -&gt; (<span class="kr">match</span> n0 <span class="kr">with</span>
         | n _ | _ =&gt; ‚àû
         <span class="kr">end</span> &lt;= ‚àû)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk109"><span class="bp">easy</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">True</span> -&gt; (<span class="kr">match</span> n0 <span class="kr">with</span>
         | n _ | _ =&gt; ‚àû
         <span class="kr">end</span> &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> n0; <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk10a"><span class="kn">Lemma</span> <span class="nf">nati_le_inf_r</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">m</span>,
  (a &lt;= inf + m &lt;-&gt; a &lt;= inf)%nati.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">m</span> : nati, (a &lt;= ‚àû + m)%nati &lt;-&gt; (a &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk10b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">m</span> : nati, (a &lt;= ‚àû + m)%nati &lt;-&gt; (a &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk10c"><span class="nb">destruct</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> : nati, (n0 &lt;= ‚àû + m)%nati &lt;-&gt; (n0 &lt;= ‚àû)%nati</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> : nati, (‚àû &lt;= ‚àû + m)%nati &lt;-&gt; (‚àû &lt;= ‚àû)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk10d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> : nati, (n0 &lt;= ‚àû + m)%nati &lt;-&gt; (n0 &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk10e"><span class="nb">destruct</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> : nati, (n1 &lt;= ‚àû + m)%nati &lt;-&gt; (n1 &lt;= ‚àû)%nati</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk10f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="Common-v-chk10f"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> : nati, (‚àû &lt;= ‚àû + m)%nati &lt;-&gt; (‚àû &lt;= ‚àû)%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk110">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> : nati, (n1 &lt;= ‚àû + m)%nati &lt;-&gt; (n1 &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk111"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> : nati,
<span class="kr">match</span> <span class="kr">match</span> m <span class="kr">with</span>
      | n _ | _ =&gt; ‚àû%nati
      <span class="kr">end</span> <span class="kr">with</span>
| n b =&gt; n1 &lt;= b
| ‚àû%nati =&gt; <span class="kt">True</span>
<span class="kr">end</span> &lt;-&gt; <span class="kt">True</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk112"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> <span class="kr">match</span> m <span class="kr">with</span>
      | n _ | _ =&gt; ‚àû%nati
      <span class="kr">end</span> <span class="kr">with</span>
| n b =&gt; n1 &lt;= b
| ‚àû%nati =&gt; <span class="kt">True</span>
<span class="kr">end</span> -&gt; <span class="kt">True</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk113" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><label class="goal-separator" for="Common-v-chk113"><hr></label><div class="goal-conclusion"><span class="kt">True</span> -&gt;
<span class="kr">match</span> <span class="kr">match</span> m <span class="kr">with</span>
      | n _ | _ =&gt; ‚àû%nati
      <span class="kr">end</span> <span class="kr">with</span>
| n b =&gt; n1 &lt;= b
| ‚àû%nati =&gt; <span class="kt">True</span>
<span class="kr">end</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk114"><span class="bp">easy</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">True</span> -&gt;
<span class="kr">match</span> <span class="kr">match</span> m <span class="kr">with</span>
      | n _ | _ =&gt; ‚àû%nati
      <span class="kr">end</span> <span class="kr">with</span>
| n b =&gt; n1 &lt;= b
| ‚àû%nati =&gt; <span class="kt">True</span>
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> m; <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk115">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> : nati, (‚àû &lt;= ‚àû + m)%nati &lt;-&gt; (‚àû &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk116"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(‚àû &lt;= ‚àû + m)%nati &lt;-&gt; (‚àû &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk117"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> <span class="kr">match</span> m <span class="kr">with</span>
      | n _ | _ =&gt; ‚àû%nati
      <span class="kr">end</span> <span class="kr">with</span>
| n _ =&gt; <span class="kt">False</span>
| ‚àû%nati =&gt; <span class="kt">True</span>
<span class="kr">end</span> &lt;-&gt; <span class="kt">True</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk118"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> <span class="kr">match</span> m <span class="kr">with</span>
      | n _ | _ =&gt; ‚àû%nati
      <span class="kr">end</span> <span class="kr">with</span>
| n _ =&gt; <span class="kt">False</span>
| ‚àû%nati =&gt; <span class="kt">True</span>
<span class="kr">end</span> -&gt; <span class="kt">True</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk119" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><label class="goal-separator" for="Common-v-chk119"><hr></label><div class="goal-conclusion"><span class="kt">True</span> -&gt;
<span class="kr">match</span> <span class="kr">match</span> m <span class="kr">with</span>
      | n _ | _ =&gt; ‚àû%nati
      <span class="kr">end</span> <span class="kr">with</span>
| n _ =&gt; <span class="kt">False</span>
| ‚àû%nati =&gt; <span class="kt">True</span>
<span class="kr">end</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk11a"><span class="bp">easy</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">True</span> -&gt;
<span class="kr">match</span> <span class="kr">match</span> m <span class="kr">with</span>
      | n _ | _ =&gt; ‚àû%nati
      <span class="kr">end</span> <span class="kr">with</span>
| n _ =&gt; <span class="kt">False</span>
| ‚àû%nati =&gt; <span class="kt">True</span>
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> m; <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk11b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> : nati, (‚àû &lt;= ‚àû + m)%nati &lt;-&gt; (‚àû &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk11c"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> : nati,
<span class="kr">match</span> <span class="kr">match</span> m <span class="kr">with</span>
      | n _ | _ =&gt; ‚àû%nati
      <span class="kr">end</span> <span class="kr">with</span>
| n _ =&gt; <span class="kt">False</span>
| ‚àû%nati =&gt; <span class="kt">True</span>
<span class="kr">end</span> &lt;-&gt; <span class="kt">True</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk11d"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> <span class="kr">match</span> m <span class="kr">with</span>
      | n _ | _ =&gt; ‚àû%nati
      <span class="kr">end</span> <span class="kr">with</span>
| n _ =&gt; <span class="kt">False</span>
| ‚àû%nati =&gt; <span class="kt">True</span>
<span class="kr">end</span> -&gt; <span class="kt">True</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk11e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><label class="goal-separator" for="Common-v-chk11e"><hr></label><div class="goal-conclusion"><span class="kt">True</span> -&gt;
<span class="kr">match</span> <span class="kr">match</span> m <span class="kr">with</span>
      | n _ | _ =&gt; ‚àû%nati
      <span class="kr">end</span> <span class="kr">with</span>
| n _ =&gt; <span class="kt">False</span>
| ‚àû%nati =&gt; <span class="kt">True</span>
<span class="kr">end</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk11f"><span class="bp">easy</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">True</span> -&gt;
<span class="kr">match</span> <span class="kr">match</span> m <span class="kr">with</span>
      | n _ | _ =&gt; ‚àû%nati
      <span class="kr">end</span> <span class="kr">with</span>
| n _ =&gt; <span class="kt">False</span>
| ‚àû%nati =&gt; <span class="kt">True</span>
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> m; <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk120"><span class="kn">Lemma</span> <span class="nf">nati_le_antisymm</span> : <span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span>,
  (n &lt;= m -&gt; m &lt;= n -&gt; n = m)%nati.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nati,
(n &lt;= m)%nati -&gt; (m &lt;= n)%nati -&gt; n = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk121"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nati,
(n &lt;= m)%nati -&gt; (m &lt;= n)%nati -&gt; n = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk122"><span class="nb">intros</span> n m H1 H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n &lt;= m)%nati</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m &lt;= n)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk123"><span class="nb">unfold</span> nati_le <span class="kr">in</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> n <span class="kr">with</span>
| n a =&gt;
    <span class="kr">match</span> m <span class="kr">with</span>
    | n b =&gt; a &lt;= b
    | ‚àû%nati =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
| ‚àû%nati =&gt;
    <span class="kr">match</span> m <span class="kr">with</span>
    | n _ =&gt; <span class="kt">False</span>
    | ‚àû%nati =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m &lt;= n)%nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk124"><span class="nb">unfold</span> nati_le <span class="kr">in</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> n <span class="kr">with</span>
| n a =&gt;
    <span class="kr">match</span> m <span class="kr">with</span>
    | n b =&gt; a &lt;= b
    | ‚àû%nati =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
| ‚àû%nati =&gt;
    <span class="kr">match</span> m <span class="kr">with</span>
    | n _ =&gt; <span class="kt">False</span>
    | ‚àû%nati =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> m <span class="kr">with</span>
| n a =&gt;
    <span class="kr">match</span> n <span class="kr">with</span>
    | n b =&gt; a &lt;= b
    | ‚àû%nati =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
| ‚àû%nati =&gt;
    <span class="kr">match</span> n <span class="kr">with</span>
    | n _ =&gt; <span class="kt">False</span>
    | ‚àû%nati =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk125"><span class="nb">destruct</span> n; <span class="nb">destruct</span> m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n0 &lt;= n1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>n1 &lt;= n0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n0 = n1</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk126" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kt">False</span></span></span></span><br></div><label class="goal-separator" for="Common-v-chk126"><hr></label><div class="goal-conclusion">n0 = ‚àû%nati</div></blockquote><input class="alectryon-extra-goal-toggle" id="Common-v-chk127" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kt">False</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br></div><label class="goal-separator" for="Common-v-chk127"><hr></label><div class="goal-conclusion">‚àû%nati = n0</div></blockquote><input class="alectryon-extra-goal-toggle" id="Common-v-chk128" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H1, H2</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br></div><label class="goal-separator" for="Common-v-chk128"><hr></label><div class="goal-conclusion">‚àû%nati = ‚àû%nati</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk129">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n0 &lt;= n1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>n1 &lt;= n0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n0 = n1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk12a"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n0 &lt;= n1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>n1 &lt;= n0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n0 = n1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk12b"><span class="nb">apply</span> Nat.le_antisymm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n0 &lt;= n1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>n1 &lt;= n0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n0 &lt;= n1</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Common-v-chk12c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n0 &lt;= n1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>n1 &lt;= n0</span></span></span><br></div><label class="goal-separator" for="Common-v-chk12c"><hr></label><div class="goal-conclusion">n1 &lt;= n0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk12d"><span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n0 &lt;= n1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>n1 &lt;= n0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n1 &lt;= n0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk12e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kt">False</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n0 = ‚àû%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk12f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kt">False</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">‚àû%nati = n0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk130">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H1, H2</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">‚àû%nati = ‚àû%nati</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk131"><span class="kn">Lemma</span> <span class="nf">nati_zero_smallest</span> : <span class="kr">forall</span> <span class="nv">a</span>, (<span class="mi">0</span> &lt;= a)%nati.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : nati, (<span class="mi">0</span> &lt;= a)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk132"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : nati, (<span class="mi">0</span> &lt;= a)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk133"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">0</span> &lt;= a)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk134"><span class="nb">unfold</span> nati_le.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> a <span class="kr">with</span>
| n b =&gt; <span class="mi">0</span> &lt;= b
| ‚àû%nati =&gt; <span class="kt">True</span>
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk135"><span class="nb">destruct</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n0</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt;= n0</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">True</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk136"><span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">True</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk137"><span class="kn">Lemma</span> <span class="nf">inf_greatest</span> : <span class="kr">forall</span> <span class="nv">a</span>, (a &lt;= inf)%nati.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : nati, (a &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk138"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : nati, (a &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk139"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a &lt;= ‚àû)%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk13a"><span class="nb">unfold</span> nati_le.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nati</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> a <span class="kr">with</span>
| n _ | _ =&gt; <span class="kt">True</span>
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> a; <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk13b"><span class="kn">Lemma</span> <span class="nf">inf_inf</span> : <span class="kr">forall</span> <span class="nv">a</span>,
  ~ (inf = n a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : nat, ‚àû%nati &lt;&gt; a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk13c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : nat, ‚àû%nati &lt;&gt; a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk13d"><span class="nb">unfold</span> not; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>‚àû%nati = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">inversion</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk13e"><span class="kn">Lemma</span> <span class="nf">is_inf</span> : <span class="kr">forall</span> <span class="nv">a</span>, (a &gt;= inf)%nati &lt;-&gt; a = inf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : nati, (‚àû &lt;= a)%nati &lt;-&gt; a = ‚àû%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk13f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : nati, (‚àû &lt;= a)%nati &lt;-&gt; a = ‚àû%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> a; <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk140"><span class="kn">Lemma</span> <span class="nf">nati_n_ge_inf</span> : <span class="kr">forall</span> (<span class="nv">a</span>:nati) (<span class="nv">n</span>:nat),
  (a + n &gt;= inf &lt;-&gt; a = inf)%nati.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : nati) (<span class="nv">n0</span> : nat),
(‚àû &lt;= a + n0)%nati &lt;-&gt; a = ‚àû%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Common-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="Common-v-chk141"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : nati) (<span class="nv">n0</span> : nat),
(‚àû &lt;= a + n0)%nati &lt;-&gt; a = ‚àû%nati</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> a; <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre></article></body></html>